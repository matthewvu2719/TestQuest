<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Adventure Time</title>

    <style>
      body {
        margin: 0;
        background: #231F20;
        display: flex;
        justify-content: center;
        padding: 24px;
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      }

      /* This is your "small window" frame */
      .player {
        width: min(900px, 95vw);          /* small window width */
      }

      /* Keeps a nice 16:9 window that scales responsively */
      .frame {
        position: relative;
        width: 100%;
        aspect-ratio: 16 / 9;
        background: #231F20;
        overflow: hidden;
        border-radius: 12px;
      }

      /* Canvas fills the frame (scaled, not cropped) */
      #unity-canvas {
        width: 100% !important;
        height: 100% !important;
        display: block;
        background: #231F20;
      }

      .controls {
        display: flex;
        justify-content: center;
        gap: 12px;
        margin-top: 12px;
      }

      button {
        padding: 10px 14px;
        border: 0;
        border-radius: 10px;
        cursor: pointer;
        font-weight: 600;
      }
    </style>
  </head>

  <body>
    <div class="player">
      <div class="frame">
        <canvas id="unity-canvas"></canvas>
      </div>

      <div class="controls">
        <button id="fullscreen-btn">Full screen</button>
      </div>
    </div>

    <script src="Build/quest.loader.js"></script>
    <script>
      const canvas = document.querySelector("#unity-canvas");
      const fullscreenBtn = document.querySelector("#fullscreen-btn");

      let unityInstance = null;

      createUnityInstance(canvas, {
        dataUrl: "Build/quest.data",
        frameworkUrl: "Build/quest.framework.js",
        codeUrl: "Build/quest.wasm",
        streamingAssetsUrl: "StreamingAssets",
        companyName: "DefaultCompany",
        productName: "Adventure Time",
        productVersion: "1.0",

        // IMPORTANT: prevents the "cropped window" problem
        matchWebGLToCanvasSize: true,

        // optional; helps avoid hi-DPI sizing weirdness
        // devicePixelRatio: 1,
      }).then((instance) => {
        unityInstance = instance;

        fullscreenBtn.addEventListener("click", () => {
          // must be called from a user gesture (button click) â€” this is perfect
          unityInstance.SetFullscreen(1);
        });
      });
    </script>
  </body>
</html>
